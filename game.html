<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Hangman Game</title>
      <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
      <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  </head>
  <body>
    
    <h1> 
    <br>
    <br>
    <br>
    Guess a NBA team name!
    </h1>
    <br>
    <br>
    <br>

     Wins:
     <div id = "wins">
        
     </div>
    
    <br>
     <div id = "livesLeft">
          <br>
     </div>
     <br>
        
     <div id = "hold">
     <br>
     </div>
     <br>
      Letters already guessed:
     <div id = "guessedLetter"> 
           <br>
     </div>
 

    </div>

    <script type="text/javascript">
    //window onload function
   // windows.onload = function(){};

    var teamNames = ['celtics', 'raptors', 'suns', 'nets', 'cavaliers',
        'bucks', 'pacers','bulls','pistons','wizard','hawks','heat',
        'hornets','mavericks','jazz','thunders','nuggets','warriors','clippers',
        'grizzles','timberwovles','pelicans','knicks','spurs','lakers'];
    var word;
    var correctWord = [];
    var guess;
    var guessStored = [];
    var guessStoredWord;
    var usedLetter = [];
    var lives;
    var wins=0;
    var isOver;
    var space; 
    console.log(teamNames.length);

    play = function(){
      word = teamNames[Math.floor(Math.random() * teamNames.length)];
      word = word.replace(/\s/g, "-");
      console.log(word);
      for(var i=0; i<word.length; i++){
          
           correctWord[i] = word[i];
          
        }
      console.log(correctWord);
    }

    lives = 10;
    var showlives = document.getElementById("livesLeft");
    var usedHolder = document.getElementById("guessedLetter");
    var winsTotal = document.getElementById("wins");
    // show lives
    comments = function(){
      showlives.innerHTML = "You have " + lives + " lives left!";
      usedHolder.innerHTML = usedLetter;
      if(lives < 1){
        showlives.innerHTML = "Game over!";
        document.onkeyup = "";
      }

      if(lives > 0 && isOver){
        showlives.innerHTML = "You have " + lives + " lives left and You win!"; 
        wins += 1;
      }

      winsTotal.innerHTML = wins;
    }

   // Create geusses ul
   result = function () {
    wordHolder = document.getElementById('hold');
    correct = document.createElement('ul');

    for (var i = 0; i < word.length; i++) {
        guessStored.push('_ ');
    }
    guessStoredWord = guessStored.join("");
    wordHolder.innerHTML = guessStoredWord;
  }

 
  console.log(guessStored);

   document.onkeyup = function(event) {

        // Determines which key was pressed
        var userGuess = event.key;
        var guessWord;
               // Alerts the key the user pressed (userGuess).
        // alert(userGuess);

        if(correctWord.indexOf(userGuess) === -1){
            lives -= 1;
        }
        console.log("lives:" + lives)
        console.log(correctWord);

        for(var i=0; i<word.length; i++){  //"_ _ _ "
          if(userGuess === word[i]){
                guessStored[i] = word[i];
          }
        }
        guessStoredWord = guessStored.join("");
        wordHolder.innerHTML = guessStoredWord;
        console.log("guess word is " + guessStored);

        guessWord = guessStored.join("");
        console.log(guessWord);
        if(guessWord === word)
        {
          isOver = true;
          document.onkeyup = " ";
        }
        else
        {

        }
        if(usedLetter.indexOf(userGuess) === -1)
        {
          usedLetter.push(userGuess);
        }
      
        comments();
  }

    play();
    result();
    comments();
    //document.onkeyup();

    // type function

    </script>

  </body>
</html>